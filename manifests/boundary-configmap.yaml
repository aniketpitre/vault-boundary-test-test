apiVersion: v1
kind: ConfigMap
metadata:
  name: boundary-config
  namespace: aniket-test
data:
  boundary.hcl: |
    disable_mlock = true

    kms "aead" {
      purpose   = "root"
      aead_type = "aes-gcm"
      key       = "01234567890123456789012345678901"
      key_id    = "root-key"
    }

    controller {
      name = "k8s-controller"

      public_addr = "boundary:9201"   # âœ… THIS FIXES THE 0.0.0.0 ERRORS

      database {
        url = "postgresql://boundary:boundarypass@boundary-postgres:5432/boundary?sslmode=disable"
      }
    }

    listener "tcp" {
      address = "0.0.0.0:9200"
      purpose = "api"
      tls_disable = true
    }

    listener "tcp" {
      address = "0.0.0.0:9201"
      purpose = "cluster"
      tls_disable = true
    }
